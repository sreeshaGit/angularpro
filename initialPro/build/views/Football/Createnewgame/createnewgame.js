var editparam=null;getCookie(),getParameterByName("editparam")&&""!=getParameterByName("editparam")&&(editparam=getParameterByName("editparam")),getParameterByName("islog")&&"true"==getParameterByName("islog")?is_loggedIn=!0:is_loggedIn=!1;var Head=React.createClass({displayName:"Head",render:function(){return React.createElement("div",null,React.createElement("div",{className:"container"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding"},null!=editparam?React.createElement("h3",null,"EDIT GAME"):React.createElement("h3",null,"CREATE GAME")))))}}),Parameter=React.createClass({displayName:"Parameter",getInitialState:function(){return{fixtureItems:[],entry:[],entrant:[],format:[],display:[],starq:[],gameParams:[],gameName:"",selFixtureName:"",selEntryVal:"",selEntrants:"",selQuestions:"",charNo:0}},createGame:function(){var a={items:[{id:null!=editparam?getParameterByName("gameid"):0,name:$("#gamename").val(),fxt_id:$("#fixture").val(),value:$("#fee").val(),type:$("#public").val(),stara:$("#star").val(),"return":$("#noofque").val()}]};return isError=!1,""!=a.items[0].name&&null!=a.items[0].name||($("#gamenameerror").html("Please enter game name."),isError=!0),""!=a.items[0].fxt_id&&null!=a.items[0].fxt_id||($("#fixtureerror").html("Please select fixture."),isError=!0),""!=a.items[0].value&&null!=a.items[0].value||($("#fee_error").html("Please select entry fee."),isError=!0),""!=a.items[0].type&&null!=a.items[0].type||($("#typeerror").html("Please select type."),isError=!0),""!=a.items[0]["return"]&&null!=a.items[0]["return"]||($("#noofque_error").html("Please select number of questions."),isError=!0),!isError&&($("#gamenameerror").html("&nbsp;"),$("#fixtureerror").html("&nbsp;"),$("#fee_error").html("&nbsp;"),$("#entrantserror").html("&nbsp;"),$("#typeerror").html("&nbsp;"),$("#noofque_error").html("&nbsp;"),$("#starterror").html("&nbsp;"),void(this.serverRequest=$.post(baseurl+"game/create1/"+userId+","+sessionId,JSON.stringify(a),function(a){a!=-1&&("object"!=typeof a&&(a=JSON.parse(a)),window.location="/creategame/?islog="+is_loggedIn+"&gameid="+a.items[0].crg_id)}.bind(this))))},componentWillMount:function(){if(this.serverRequest=$.get(baseurl+"game/create1/"+userId+","+sessionId,function(a){"object"!=typeof a&&(a=JSON.parse(a)),this.setState({fixtureItems:a.items}),this.setState({entry:a.values}),this.setState({entrant:a.entrants}),this.setState({format:a.formats}),this.setState({display:a.questions}),this.setState({starq:a.star_qu})}.bind(this)),null!=editparam){var a=getParameterByName("gameid");this.serverRequest=$.get(baseurl+"game/update1/"+userId+","+sessionId+","+a,function(a){"object"!=typeof a&&(a=JSON.parse(a));var b="",c="",d="",e="";this.setState({gameName:a.items[0].gamename});this.state.fixtureItems.filter(function(c){if(c.fxt_id==a.items[0].fxt_id)return b=c.fxt_id,!0});this.setState({selFixtureName:b});this.state.entry.filter(function(b){if(b.value==a.items[0].value)return c=b.value,!0});this.setState({selEntryVal:c});this.state.entrant.filter(function(b){if(b.type==a.items[0].format)return d=b.type,!0});this.setState({selEntrants:d});this.state.display.filter(function(b){if(b.display==a.items[0].questions)return e=b.display,!0});this.setState({selQuestions:e}),this.setState({gameParams:a.items})}.bind(this))}},handleChange:function(a){this.setState({selFixtureName:a.target.value})},changeEntryVal:function(a){this.setState({selEntryVal:a.target.value})},changeEntrants:function(a){this.setState({selEntrants:a.target.value})},changeQuestions:function(a){this.setState({selQuestions:a.target.value})},validate:function(a){var b=$("#gamename").val();b.length==this.state.charNo&&20==b.length&&$("#gamename_error").html("Game Name cannot be more than 20 characters"),this.setState({charNo:b.length})},render:function(){return React.createElement("div",null,React.createElement("div",{className:"container"},React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"},React.createElement("span",{className:"tit-txt"},"GAME PARAMETERS"))),React.createElement("div",{className:"space-5"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6 col-md-7 col-sm-7 col-xs-12 col-centered"},React.createElement("div",{className:"col-centered zoola-box create-game"},React.createElement("div",{className:"padding-30"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"tit-txt"},"Game Name:"),React.createElement("div",{className:"form-group"},""==this.state.gameName&&null==editparam?React.createElement("input",{type:"text",className:"form-control",placeholder:"Custom name",id:"gamename",maxLength:"20",onKeyUp:this.validate}):React.createElement("input",{type:"text",className:"form-control",placeholder:"Custom name",id:"gamename",maxLength:"20",value:this.state.gameName,onKeyUp:this.validate}),React.createElement("div",{id:"gamename_error",className:"alert-message"}," ")))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"tit-txt"},"Match:"),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"zoola-select no-margin bg-white"},null==editparam?React.createElement("select",{className:"",id:"fixture"},React.createElement("option",null),this.state.fixtureItems.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a.fxt_id,key:b,defaultValue:"143"==a.fxt_id?"selected":""},a.fxt_name)})):React.createElement("select",{className:"",id:"fixture",value:this.state.selFixtureName,onChange:this.handleChange},React.createElement("option",null),this.state.fixtureItems.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a.fxt_id,key:b,defaultValue:"143"==a.fxt_id?"selected":""},a.fxt_name)}))),React.createElement("div",{id:"fixtureerror",className:"alert-message"}," ")))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"tit-txt"},"Entry fee:"),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"zoola-select no-margin bg-white"},null==editparam?React.createElement("select",{className:"",id:"fee"},React.createElement("option",null),this.state.entry.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a.value,key:b},a.entry)})):React.createElement("select",{className:"",id:"fee",value:this.state.selEntryVal,onChange:this.changeEntryVal},React.createElement("option",null),this.state.entry.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a.value,key:b},a.entry)}))),React.createElement("div",{id:"fee_error",className:"alert-message"}," ")))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"tit-txt"},"Public/ Private:"),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"zoola-select no-margin bg-white"},null==editparam?React.createElement("select",{className:"",id:"public"},React.createElement("option",null),this.state.entrant.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a.type,key:b},a.format)})):React.createElement("select",{className:"",id:"public",value:this.state.selEntrants,onChange:this.changeEntrants},React.createElement("option",null),this.state.entrant.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a.type,key:b},a.format)}))),React.createElement("div",{id:"typeerror",className:"alert-message"}," ")))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"tit-txt"},"Number of questions:"),React.createElement("div",{className:"form-group"},React.createElement("div",{className:"zoola-select no-margin bg-white"},null==editparam?React.createElement("select",{className:"",id:"noofque"},React.createElement("option",null),this.state.display.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a["return"],key:b},a.display)})):React.createElement("select",{className:"",id:"noofque",value:this.state.selQuestions,onChange:this.changeQuestions},React.createElement("option",null),this.state.display.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a["return"],key:b},a.display)}))),React.createElement("div",{id:"noofque_error",className:"alert-message"}," ")))))),React.createElement("div",{className:"space-10"}),React.createElement("button",{className:"btn zoola-btn",onClick:this.createGame},React.createElement("div",{className:"btn-txt"},"Next")))),React.createElement("div",{className:"space-10"})))}});