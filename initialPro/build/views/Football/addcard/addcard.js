var amt=0;getCookie(),getParameterByName("islog")&&"true"==getParameterByName("islog")?is_loggedIn=!0:is_loggedIn=!1,getParameterByName("amt")&&0!=getParameterByName("amt")&&(amt=getParameterByName("amt"));var Subheader=React.createClass({displayName:"Subheader",render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"},React.createElement("h3",null,"TOP UP ACCOUNT")))}}),Balance=React.createClass({displayName:"Balance",render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6 col-md-8 col-sm-8 col-xs-12 text-center col-centered"},React.createElement("div",{className:"topup-round-white"},React.createElement("div",{className:"topup-bal"},"AMOUNT YOU ARE ADDING: "),React.createElement("div",{className:"topup-balance"},"£",amt))))}});$(document).on("keypress","#password",function(a){1!=a.ctrlKey||"118"!=a.which&&"86"!=a.which||a.preventDefault()});var Addcard=React.createClass({displayName:"Addcard",getInitialState:function(){return{items:{},cards:[],removeCardId:0}},componentWillMount:function(){this.serverRequest=$.get(baseurl+"deposit/topup/"+userId+","+sessionId,function(a){"object"!=typeof a&&(a=JSON.parse(a)),this.setState({cards:a.cards})}.bind(this))},gotoPayment:function(a){this.serverRequest=$.get(baseurl+"deposit/paynow/"+userId+","+sessionId+","+a+","+amt,function(a){console.log(a)}.bind(this))},gotoNewPayment:function(){this.serverRequest=$.get(baseurl+"deposit/newcard/"+userId+","+sessionId+","+amt,function(a){"object"!=typeof a&&(a=JSON.parse(a)),this.setState({items:a.items[0]}),$("#pay").submit()}.bind(this))},cardtype:function(){$("#cardtype").val();return""==$("#cardtype").val()?(document.getElementById("cardtypeerror").innerHTML="Please enter your cardtype",!1):void(document.getElementById("cardtypeerror").innerHTML="&nbsp;")},cardname:function(){$("#cardnickname").val();return""==$("#cardnickname").val()?(document.getElementById("cardnicknameerror").innerHTML="Please enter your card nickname",!1):void(document.getElementById("cardnicknameerror").innerHTML="&nbsp;")},password:function(){$("#password").val();return""==$("#password").val()?(document.getElementById("passworderror").innerHTML="Please enter your password",!1):void(document.getElementById("passworderror").innerHTML="&nbsp;")},cnfYes:function(){this.removeCard()},cnfNo:function(){$("#alert-modal").modal("hide")},removeCardCnf:function(a){this.setState({removeCardId:a}),$("#alert-modal").modal("show")},removeCard:function(a){this.serverRequest=$.get(baseurl+"deposit/remove/"+userId+","+sessionId+","+this.state.removeCardId,function(a){"object"!=typeof a&&(a=JSON.parse(a)),$("#alert-modal").modal("hide"),this.setState({removeCardId:0}),this.componentWillMount()}.bind(this))},render:function(){var a=this;return React.createElement("div",null,React.createElement("div",{className:"row "},0==this.state.cards.length?React.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12 col-centered"},React.createElement("div",{className:"tit-txt hidden-xs"}," "),React.createElement("div",{className:"zoola-box col-centered add-card-box-empty"},React.createElement("div",{className:"padding-20"},React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"saved-cards"},"Pay using new card"))),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"space-10"}))),React.createElement("button",{type:"submit",className:"btn zoola-btn",onClick:this.gotoNewPayment},React.createElement("div",{className:"btn-txt"},"Add card"))):"",this.state.cards.map(function(b,c){return React.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12",key:c},0==c?React.createElement("div",{className:"tit-txt text-center"},"USE EXISTING CARD"):React.createElement("div",{className:"tit-txt hidden-xs"}," "),React.createElement("div",null,React.createElement("div",{className:"zoola-box col-centered add-new-card"},React.createElement("div",{className:"close-btn",onClick:a.removeCardCnf.bind(null,b.pyr_id)},React.createElement("img",{src:"/images/close-icon.svg",className:"pointer-hand pull-right",width:"10",alt:"Remove card"})),React.createElement("div",{className:"padding-30 padding-bottom-15"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"form-group tit-txt margin-bottom-10"},"Nickname: ",React.createElement("span",null,b.nickname)))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"form-group tit-txt margin-bottom-10"},"VISA ",React.createElement("span",null,b.digits)))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"form-group tit-txt"},"Exp.",React.createElement("span",null,b.expiry[0]+""+b.expiry[1]+"/"+b.expiry[2]+b.expiry[3])))))),React.createElement("button",{className:"btn zoola-btn margin-bottom-30",onClick:a.gotoPayment.bind(null,b.pyr_id)},React.createElement("div",{className:"btn-txt"},"Pay now"))))}),1==a.state.cards.length?React.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},React.createElement("div",{className:"tit-txt hidden-xs"}," "),React.createElement("div",{className:"col-centered add-card-box-empty"},React.createElement("div",{className:"padding-20"},React.createElement("div",{className:"space-5"}),React.createElement("div",{className:"space-5"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"saved-cards"},"1 saved card maximum"))),React.createElement("div",{className:"space-5"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("p",{className:"text-center"},React.createElement("a",{href:"/removecard/?islog="+is_loggedIn,className:"underline"},"delete a card ")," to add another"))),React.createElement("div",{className:"space-10"})))):""),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"modal fade animated bounce",tabIndex:"-1",role:"dialog","aria-labelledby":"Alert-Modal",id:"alert-modal",databackdrop:"static"},React.createElement("div",{className:"modal-dialog modal-sm "},React.createElement("div",{className:"modal-content zoola-box alet-modal"},React.createElement("div",{className:"social-header"},React.createElement("img",{src:"/images/close-icon.svg",width:"20",className:"pull-right pointer-hand","data-dismiss":"modal"})),React.createElement("div",{className:"social-body"},React.createElement("div",{className:"space-5"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12"},React.createElement("p",null,"Do you want to remove this card?"))),React.createElement("div",{className:"space-5"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-5 col-sm-5 col-md-5"},React.createElement("button",{type:"submit",className:"btn zoola-btn",onClick:this.cnfYes},React.createElement("h5",{className:""},"YES"))),React.createElement("div",{className:"col-lg-5 col-sm-5 col-md-5"},React.createElement("button",{type:"submit",className:"btn zoola-btn",onClick:this.cnfNo},React.createElement("h5",{className:""},"NO")))),React.createElement("div",{className:"space-5"}))))),React.createElement("form",{method:"POST",id:"pay",action:paymentURL},React.createElement("input",{type:"hidden",name:"MERCHANT_ID",value:this.state.items.merchant_id}),React.createElement("input",{type:"hidden",name:"ORDER_ID",value:this.state.items.order_id}),React.createElement("input",{type:"hidden",name:"AMOUNT",value:this.state.items.amount}),React.createElement("input",{type:"hidden",name:"CURRENCY",value:this.state.items.currency}),React.createElement("input",{type:"hidden",name:"TIMESTAMP",value:this.state.items.timestamp}),React.createElement("input",{type:"hidden",name:"SHA1HASH",value:this.state.items.sha1hash}),React.createElement("input",{type:"hidden",name:"AUTO_SETTLE_FLAG",value:this.state.items.auto_settle_flag}),React.createElement("input",{type:"hidden",name:"RETURN_TSS",value:this.state.items.return_tss}),React.createElement("input",{type:"hidden",name:"CUST_NUM",value:this.state.items.cust_num}),React.createElement("input",{type:"hidden",name:"PROD_ID",value:this.state.items.prod_id}),React.createElement("input",{type:"hidden",name:"VAR_REF",value:this.state.items.var_ref}),React.createElement("input",{type:"hidden",name:"COMMENT1",value:this.state.items.comment1}),React.createElement("input",{type:"hidden",name:"OFFER_SAVE_CARD",value:this.state.items.offer_save_card}),React.createElement("input",{type:"hidden",name:"PAYER_REF",value:this.state.items.payer_ref}),React.createElement("input",{type:"hidden",name:"PMT_REF",value:this.state.items.pmt_ref}),React.createElement("input",{type:"hidden",name:"PAYER_EXISTS",value:this.state.items.payer_exists})))}});