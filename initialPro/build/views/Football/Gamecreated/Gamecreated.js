function checkEmail(a){return!(a.length>0&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a))}var gameid="";getCookie(),getParameterByName("islog")&&"true"==getParameterByName("islog")?is_loggedIn=!0:is_loggedIn=!1,getParameterByName("gameid")&&""!=getParameterByName("gameid")&&(gameid=getParameterByName("gameid"));var Subheader=React.createClass({displayName:"Subheader",render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding"},React.createElement("h3",null,"GAME CREATED!")))}}),sty={height:"175px"},zoolamate={height:"175px","overflow-y":"scroll","overflow-x":"hidden"},selectedMates=[],Gamecreated=React.createClass({displayName:"Gamecreated",getInitialState:function(){return{mainData:[],frdsList:[],postData:[]}},componentWillMount:function(){this.serverRequest=$.get(baseurl+"play/game1/"+userId+","+sessionId+","+gameid,function(a){"object"!=typeof a&&(a=JSON.parse(a)),this.setState({mainData:a.items[0]})}.bind(this)),window.fbAsyncInit=function(){FB.init({appId:"1832766513626295",cookie:!0,xfbml:!0,version:"v2.6"}),this.serverRequest=$.get(baseurl+"general/navbar/"+userId+","+sessionId,function(a){"object"!=typeof a&&(a=JSON.parse(a)),this.setState({items:a.header[0]})}.bind(this)),this.serverRequest=$.get(baseurl+"game/invite/"+userId+","+sessionId+","+gameid,function(a){"object"!=typeof a&&(a=JSON.parse(a)),this.setState({frdsList:a.items})}.bind(this))}.bind(this),function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")},invite:function(){this.serverRequest=$.get(baseurl+"game/invite/"+userId+","+sessionId,function(a){"object"!=typeof a&&(a=JSON.parse(a))}.bind(this))},valdate:function(a){var b=$("#comment").val(),c=b.split(","),d=[],e=[];for(i=0;i<c.length;i++)""!=c[i]&&d.push(c[i].trim());if(d.length<1)return error="please enter email address.\n",document.getElementById("commenterror").innerHTML="Please enter email address.",!1;if(d.length>25)return error="The maximum limit is 25.\n",document.getElementById("commenterror").innerHTML="The maximum limit is 25.",!1;for(document.getElementById("commenterror").innerHTML="&nbsp;",i=0;i<d.length&&d[i].length>0;i++){if(!checkEmail(d[i]))return document.getElementById("commenterror").innerHTML="Please enter valid email address",!1;e.push({email_string:d[i]})}this.serverRequest=$.post(baseurl+"game/invitemail/"+userId+","+sessionId+","+gameid,JSON.stringify({items:e})+"=",function(a){window.location="/invites/?islog=true"}.bind(this))},gotoGameselection:function(){window.location="/gameselection/?islog=true"},openTwittershare:function(){this.serverRequest=$.get(baseurl+"play/game1/"+userId+","+sessionId+","+gameid,function(a){return"object"!=typeof a&&(a=JSON.parse(a)),myWindow=window.open("https://twitter.com/share?url=http://www.playzoola.com&text=If you think you know about%20"+a.items[0].game_name+"- Play against others and win the money:%20pic.twitter.com/70mlqCk0Mu","","width=700,height=500,toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=1,left=500,top=200"),myWindow})},openFbshare:function(){this.serverRequest=$.get(baseurl+"play/game1/"+userId+","+sessionId+","+gameid,function(a){"object"!=typeof a&&(a=JSON.parse(a)),FB.ui({method:"feed",name:"Playzoola",link:" https://www.playzoola.com/",picture:"https://playzoola.com/images/favicon.png",caption:'This is the content of the "caption" field.',description:"If you think you know about "+a.items[0].game_name+" - Play against others and win the money",message:""})})},inviteMate:function(a,b,c){var d=this.state.postData;"avatarClick"==b?($("#"+a).addClass("selected-mate"),this.state.frdsList.filter(function(a){if(a.fr_img_id==c)return d.push({fr_usr_id:a.fr_usr_id}),!0}),this.setState({postData:d})):this.serverRequest=$.post(baseurl+"game/invite/"+userId+","+sessionId+","+gameid,JSON.stringify({items:this.state.postData}),function(a){window.location="/invites/?islog=true"}.bind(this))},render:function(){var a=this;return React.createElement("div",null,React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 text-center"},React.createElement("h2",{className:"text-center"},'Your game "',this.state.mainData.game_name,'" has successfully been created.'))),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 text-center"},React.createElement("p",{className:"text-center"},"Why not invite some friends to join you ?"))),React.createElement("div",{className:"space-5"}),React.createElement("div",{className:"row "},React.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},React.createElement("div",{className:"tit-txt text-center margin-top-20"},"ZOOLA MATES"),React.createElement("div",{className:"col-centered zoola-box"},React.createElement("div",{className:"padding-20",style:zoolamate},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-8 col-md-12 col-sm-12 col-xs-12 text-center"},a.state.frdsList.map(function(b,c){return React.createElement("div",{key:c,onClick:a.inviteMate.bind(null,"friend_"+c,"avatarClick",b.fr_img_id),className:"friend",id:"friend_"+c},React.createElement("img",{width:"40",alt:"",src:"/images/animals-Modified/"+b.fr_img_id+".svg"}),React.createElement("span",{className:"frnd-name font-20"},b.fr_name))}))))),React.createElement("button",{className:"btn zoola-btn",onClick:this.inviteMate.bind(null,"","",""),id:"invite"},React.createElement("div",{className:"btn-txt"},"Invite mates"))),React.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},React.createElement("div",{className:"tit-txt text-center margin-top-20"},"INVITE BY EMAIL"),React.createElement("div",{className:"col-centered zoola-box"},React.createElement("div",{className:"padding-20",style:sty},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},React.createElement("div",{className:"form-group no-margin"},React.createElement("textarea",{className:"form-control no-margin",rows:"3",id:"comment"}),React.createElement("div",{id:"commenterror",className:"alert-message"},"Â ")))))),React.createElement("button",{className:"btn zoola-btn",onClick:this.valdate},React.createElement("div",{className:"btn-txt"},"Invite friends")))),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-7 col-md-9 col-sm-9 col-xs-12 col-centered"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},React.createElement("div",{className:"share-social bg-light-blue",onClick:this.openTwittershare},React.createElement("img",{alt:"",src:"/images/share-twitter.png"}),React.createElement("span",null,"INVITE MY FOLLOWERS"))),React.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},React.createElement("div",{className:"share-social bg-light-blue",onClick:this.openFbshare},React.createElement("img",{alt:"",src:"/images/share-fb.png"}),React.createElement("span",null,"INVITE MY FRIENDS")))))),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-7 col-md-9 col-sm-9 col-xs-12 col-centered"},React.createElement("button",{className:"btn zoola-btn",type:"submit",onClick:this.gotoGameselection},React.createElement("div",{className:"btn-txt"},React.createElement("strong",null,"View game"))))),React.createElement("div",{className:"space-10"}))}});