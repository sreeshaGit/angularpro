var gameid="";getCookie(),getParameterByName("islog")&&"true"==getParameterByName("islog")?is_loggedIn=!0:is_loggedIn=!1,getParameterByName("gameid")&&""!=getParameterByName("gameid")&&(gameid=getParameterByName("gameid"));var Subheader=React.createClass({displayName:"Subheader",render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding"},React.createElement("h3",null,"Create game")))}}),QuestionsDropdown=React.createClass({displayName:"QuestionsDropdown",getInitialState:function(){return{number:0,questions:[]}},handleChange:function(a){self.props.selectedQuestion=a.target.value},render:function(){var a=this,b="question_"+this.props.number;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-2 col-md-2 col-sm-2 col-xs-3 text-center"},React.createElement("div",{className:""},React.createElement("span",{className:"number"}," ",a.props.number," "))),React.createElement("div",{className:"col-lg-10 col-md-10 col-sm-10 col-xs-9"},React.createElement("div",{className:"form-group"},React.createElement("div",{className:"zoola-select no-margin bg-white"},""!=a.props.selectedQuestion?React.createElement("select",{className:"",id:b,value:a.props.selectedQuestion,onChange:this.handleChange},React.createElement("option",null),this.props.questions.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a.mkt_id,key:b},a.question)})):React.createElement("select",{className:"",id:b},React.createElement("option",null),this.props.questions.map(function(a,b){return React.createElement("option",{className:"pointer-hand",value:a.mkt_id,key:b},a.question)}))))))}}),Creategame=React.createClass({displayName:"Creategame",getInitialState:function(){return{number:0,questions:[],selectedQuestions:[]}},componentWillMount:function(){this.serverRequest=$.get(baseurl+"game/create2/"+userId+","+sessionId+","+gameid,function(a){"object"!=typeof a&&(a=JSON.parse(a)),this.setState({number:a.items[0].number,questions:a.items[0].questions})}.bind(this));var a=[];this.serverRequest=$.get(baseurl+"game/update2/"+userId+","+sessionId+","+gameid,function(b){"object"!=typeof b&&(b=JSON.parse(b)),a=b.items;for(var c=[],d=0;d<a.length;d++){var e=a[d].mkt_id;this.state.questions.filter(function(a){if(a.mkt_id==e)return c.push({mkt_id:e,num:d,question:a.question}),!0});c.length<=0&&(c=this.state.questions)}this.setState({selectedQuestions:c})}.bind(this))},valdate:function(a){var b=[],c=[];for(i=1;i<=this.state.number;i++){if(""==$("#question_"+i).val())return error="please select all the above questions.\n",document.getElementById("selecterror").innerHTML="please select all the above questions.",!1;if(c.indexOf($("#question_"+i).val())!=-1)return error="Selection of two same questions are not allowed.\n",document.getElementById("selecterror").innerHTML="Selection of two same questions are not allowed.",!1;c.push($("#question_"+i).val()),b.push({num:i,mkt_id:$("#question_"+i).val()})}document.getElementById("selecterror").innerHTML="&nbsp;";var d={items:b};this.state.selectedQuestions.length>0?this.serverRequest=$.post(baseurl+"game/update2/"+userId+","+sessionId+","+gameid,JSON.stringify(d),function(a){"object"!=typeof a&&(a=JSON.parse(a)),window.location="/creategameqns/?islog="+is_loggedIn+"&gameid="+a.items[0].pls_id+"&prevGameId="+gameid}.bind(this)):this.serverRequest=$.post(baseurl+"game/create2/"+userId+","+sessionId+","+gameid,JSON.stringify(d),function(a){"object"!=typeof a&&(a=JSON.parse(a)),window.location="/creategameqns/?islog="+is_loggedIn+"&gameid="+a.items[0].pls_id+"&prevGameId="+gameid}.bind(this))},gotoCreatenewgame:function(){window.location="/createnewgame/?islog="+is_loggedIn+"&editparam=true&gameid="+gameid},render:function(){var a=this;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"},React.createElement("span",{className:"tit-txt"},"SELECT GAME QUESTIONS"))),React.createElement("div",{className:"space-5"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6 col-md-6 col-sm-7 col-xs-12 col-centered"},React.createElement("div",{className:"col-centered zoola-box create-game"},React.createElement("div",{className:"padding-30"},React.createElement("div",{className:"space-5"}),function(b,c){for(i=1;i<=c;i++){var d=i-1,e="";a.state.selectedQuestions.length>0&&(e=a.state.selectedQuestions[d].mkt_id);a.state.questions.filter(function(a){if(a.mkt_id==e)return!0});b.push(React.createElement("div",{key:i},React.createElement(QuestionsDropdown,{number:i,questions:a.state.questions,selectedQuestion:e})," ",React.createElement("div",{className:"space-5"})))}return b}([],a.state.number),React.createElement("div",{id:"selecterror",className:"text-center alert-message"},"Â "))),React.createElement("div",{className:"space-5"}),React.createElement("button",{className:"btn zoola-btn",onClick:this.valdate},React.createElement("div",{className:"btn-txt"},"Create game"))),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"},null!=getParameterByName("star")||this.state.selectedQuestions.length>0?"":React.createElement("div",{className:"ntr-txt underline",onClick:this.gotoCreatenewgame},"Go back and edit parameters"))),React.createElement("div",{className:"space-10"})))}});