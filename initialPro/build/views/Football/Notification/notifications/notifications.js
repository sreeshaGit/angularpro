function diffdates(a,b,c){a=a.toLowerCase();var d=c-b,e={w:6048e5,d:864e5,h:36e5,n:6e4,s:1e3};return Math.floor(d/e[a])}getCookie(),getParameterByName("islog")&&"true"==getParameterByName("islog")?is_loggedIn=!0:is_loggedIn=!1;var Subheader=React.createClass({displayName:"Subheader",render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 no-padding"},React.createElement("h3",null,"NOTIFICATIONS")))}}),Notified=React.createClass({displayName:"Notified",getInitialState:function(){return{data:[],notifications:[],ntf_id:[]}},componentWillMount:function(){this.serverRequest=$.get(baseurl+"general/notify/"+userId+","+sessionId,function(a){for("object"!=typeof a&&(a=JSON.parse(a)),i=0;i<a.notifications.length;i++){var b=a.notifications[i].datetime,c=b.slice(0,4),d=b.slice(4,6),e=b.slice(6,8),f=b.slice(8,10),g=b.slice(10,12),h=b.slice(12,14),j=c+"/"+d+"/"+e+" "+f+":"+g+":"+h,k=new Date(j),l=new Date,m=diffdates("d",k,l);j=0==m?"Today, "+f+":"+g:1==m?"Yesterday, "+f+":"+g:e+"/"+d+"/"+c+", "+f+":"+g,a.notifications[i].format_date=j}this.setState({notifications:a.notifications})}.bind(this))},markasread:function(a){var b=this;this.serverRequest=$.get(baseurl+"general/notifyupd/"+userId+","+sessionId+","+a,function(a){b.componentWillMount()}.bind(this))},gotopreferences:function(){window.location="/notificationPreferences/?islog="+is_loggedIn},friReqUpdate:function(a,b){console.log(a," == ",b),this.serverRequest=$.get(baseurl+"play/friendrequpd/"+userId+","+sessionId+","+b+","+a,function(a){var b=this;b.componentWillMount()}.bind(this))},render:function(){var a=this;return React.createElement("div",null,React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"container"},React.createElement("div",{className:"row text-center"},React.createElement("div",{className:"text-underline ntr-txt",onClick:this.markasread.bind(null,0)},"Mark all as read"),"         ",React.createElement("div",{className:"text-underline ntr-txt",onClick:this.gotopreferences},"Preferences")),React.createElement("div",{className:"space-10"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-11"},this.state.notifications.map(function(b,c){return"Y"==b.read?React.createElement("div",{className:"notification ",key:c},React.createElement("div",{className:"notification-time"},b.format_date," GMT"),React.createElement("div",{className:"notification-info"},React.createElement("div",{className:"notification-game-icon"},React.createElement("img",null))," ",React.createElement("span",null," ",b.content,"    "),2==b.ntf_ntt_id?React.createElement("span",null,React.createElement("a",{className:"pointer-hand",onClick:a.friReqUpdate.bind(null,"A",b.ufr_id)},"Accept"),",",React.createElement("a",{className:"pointer-hand",onClick:a.friReqUpdate.bind(null,"B",b.ufr_id)},"Block")," Or ",React.createElement("a",{className:"pointer-hand",onClick:a.friReqUpdate.bind(null,"D",b.ufr_id)},"Decline")):React.createElement("span",null))):"N"==b.read?React.createElement("div",{className:"notification unread",key:c},React.createElement("div",{className:"notification-time"},b.format_date," GMT",React.createElement("div",{className:"notif-unread",onClick:a.markasread.bind(null,b.ntf_id)})),React.createElement("div",{className:"notification-info"},React.createElement("div",{className:"notification-game-icon"},React.createElement("img",null))," ",React.createElement("span",null," ",b.content),2==b.ntf_ntt_id?React.createElement("span",null,React.createElement("a",{className:"pointer-hand"},"Accept")):React.createElement("span",null))):void 0}))),React.createElement("div",{className:"space-10"})))}});